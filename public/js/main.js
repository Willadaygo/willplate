"user strict";function switchReady(){}$(document).ready(function(){function e(){$(".site").toggleClass("show-nav"),$(".ocn").toggleClass("is--open"),$(".menu-button").toggleClass("is--active"),$(".site").hasClass("show-nav")&&($(".site__inner").append('<div class="overlay"></div>'),$(".overlay").on("click",function(){$(".site").removeClass("show-nav"),$(".menu-button").removeClass("is--active"),$(".ocn").removeClass("is--open"),$(this).remove()}))}$(function(){$(".menu-button").on("click",function(){e()})}),switchReady(),window.addEventListener("load",function(){FastClick.attach(document.body)},!1)});var MODULE=MODULE||{};MODULE.ajaxer=function(){function e(){if(history.replaceState){var e=window.location.href;history.replaceState({path:e},null,e),a()}}function t(e){return e=e.replace("http://",""),e=e.replace(window.location.host+"/","")}function n(e){e=t(e)}function i(e,t){history.replaceState&&(history.pushState({path:e},null,e),document.title=t)}function o(e,t,o){o||i(e,r[e].headerTitle),$switcherContent=$(r[e].html),$newSwitcher=$('<div class="switch is--hidden"></div>'),$newContainer=l,$newSwitcher.append($switcherContent),$(".switch").remove(),$newContainer.append($newSwitcher),$newContainer[0].offsetHeight,$newContainer.find(".switch").removeClass("is--hidden"),n(e,t),$("body").removeClass().addClass(r[e].bodyClasses),switchReady()}function s(e,t,n){c=l.find(".switch"),n=n?!0:!1,$(".site").removeClass("show-nav"),$(".menu-button").removeClass("is--active"),$(".ocn").removeClass("is--open"),$(".overlay").remove(),$("html, body").animate({scrollTop:0},500),"undefined"==typeof r[e]?$.ajax({url:e,success:function(i){var s=i.match(/body class=\"(.*?)\"/)[1],a=$(i),c=a.find(".switch").html();r[e]={headerTitle:a.filter("title").text(),bodyClasses:s,html:c},o(e,t,n)}}):o(e,t,n)}function a(){d.on("click",function(e){e.preventDefault(),s(this.href,"main")}),window.onpopstate=function(e){e.state&&(e.preventDefault(),s(e.state.path,"main",!0))}}var c,r={},l=$(".switch-container"),h=$(".ocn__list a"),d=h;return{init:e}}(),MODULE.ajaxer.init();